{"version":3,"sources":["App.js","index.js"],"names":["GarageDoorController","props","state","door1_isOpen","door2_isOpen","setInterval","getUpdate","fetch","then","response","console","debug","json","data","setState","this","className","doorNumber","value","React","Component","DoorSection","door_isOpen","label","action","ApiButton","method","log","error","onClick","handleClick","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kQAaMA,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,MAAQ,CACXC,cAAc,EACdC,cAAc,GAIhBC,aAAY,kBAAK,EAAKC,cAAa,KATlB,E,wDAWN,IAAD,OACVC,MAAM,WACHC,MAAK,SAAAC,GAEJ,OADAC,QAAQC,MAAMF,GACPA,EAASG,UAEjBJ,MAAK,SAAAK,GACJH,QAAQC,MAAME,GACd,EAAKC,SAAS,CACZX,aAAcU,EAAKV,aACnBC,aAAcS,EAAKT,oB,qCAMzB,OAAmC,IAA5BW,KAAKb,MAAMC,e,qCAGlB,OAAmC,IAA5BY,KAAKb,MAAME,e,+BAIlB,OACE,yBAAKY,UAAU,wBACb,kDACA,kBAAC,EAAD,CAAaC,WAAY,EAAGC,MAAOH,KAAKZ,iBACxC,kBAAC,EAAD,CAAac,WAAY,EAAGC,MAAOH,KAAKX,sB,GAvCbe,IAAMC,WA6CnCC,E,kDACJ,WAAYpB,GAAQ,uCACZA,G,0DAIN,OAA4B,IAArBc,KAAKd,MAAMiB,Q,+BAIlB,OACE,qCACSH,KAAKd,MAAMgB,WADpB,KACoCF,KAAKO,cAAgB,SAAW,SAChEP,KAAKO,cAAgB,kBAAC,EAAD,CAAWC,MAAK,qBAAiBR,KAAKd,MAAMgB,YAAeO,OAAM,eAAWT,KAAKd,MAAMgB,cAAoB,KAC/HF,KAAKO,cAA0H,KAA1G,kBAAC,EAAD,CAAWC,MAAK,oBAAgBR,KAAKd,MAAMgB,YAAeO,OAAM,eAAWT,KAAKd,MAAMgB,mB,GAd5FE,IAAMC,WAoB1BK,E,4KACW,IAAD,OACZlB,MAAM,IAAD,OAAKQ,KAAKd,MAAMuB,QAAU,CAC7BE,OAAQ,SACPlB,MACD,kBAAME,QAAQiB,IAAR,UAAe,EAAK1B,MAAMuB,OAA1B,kBACN,SAACI,GAAD,OAAWlB,QAAQiB,IAAIC,Q,+BAGjB,IAAD,OACP,OACE,4BAAQC,QAAS,kBAAM,EAAKC,gBAAgBf,KAAKd,MAAMsB,W,GAXrCJ,IAAMC,WAgBfW,EA1Ff,WAEE,OACE,yBAAKf,UAAU,OACb,kBAAC,EAAD,QCHNgB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.47984c9c.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\n\n  \nfunction App() {\n  \n  return (\n    <div className=\"App\">\n      <GarageDoorController />\n    </div>\n  );\n}\n\nclass GarageDoorController extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      door1_isOpen: true,\n      door2_isOpen: true\n    };\n    \n    // poll /update every 5 seconds\n    setInterval(()=> this.getUpdate(), 5000);\n  }\n  getUpdate() {\n    fetch('/update')\n      .then(response=>{\n        console.debug(response);\n        return response.json();\n      })\n      .then(data => {\n        console.debug(data);\n        this.setState({\n          door1_isOpen: data.door1_isOpen,\n          door2_isOpen: data.door2_isOpen\n        });\n      });\n  }\n\n  door1_isOpen() {\n    return this.state.door1_isOpen === true;\n  }\n  door2_isOpen() {\n    return this.state.door2_isOpen === true;\n  }\n\n  render() {\n    return (\n      <div className=\"GarageDoorController\">\n        <h1>Garage Door Client</h1>\n        <DoorSection doorNumber={1} value={this.door1_isOpen()} />\n        <DoorSection doorNumber={2} value={this.door2_isOpen()} />\n      </div>\n    );\n  }\n}\n\nclass DoorSection extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  door_isOpen() {\n    return this.props.value === true;\n  }\n\n  render() {\n    return (\n      <div>\n        Door { this.props.doorNumber }: { this.door_isOpen() ? \"Opened\" : \"Closed\"}\n        { this.door_isOpen() ? <ApiButton label={`Close Door ${ this.props.doorNumber }`} action={`cdoor${ this.props.doorNumber }`} /> : null}\n        { !this.door_isOpen() ? <ApiButton label={`Open Door ${ this.props.doorNumber }`} action={`odoor${ this.props.doorNumber }`} /> : null}\n      </div>\n    );\n  }\n}\n\nclass ApiButton extends React.Component {\n  handleClick() {\n    fetch(`/${this.props.action}`, {\n      method: 'POST'\n    }).then(\n      () => console.log(`${this.props.action} : SUCCESS`),\n      (error) => console.log(error)\n    );\n  }\n  render() {\n    return (\n      <button onClick={() => this.handleClick()}>{this.props.label}</button>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}