{"version":3,"sources":["components/DoorControl.js","App.js","index.js"],"names":["DoorControl","this","props","value","doorNumber","door_isOpen","label","action","onClick","setClosing","setOpening","React","Component","ApiButton","fetch","method","then","console","log","error","handleClick","UPDATE_INTERVAL_ID","GarageDoorController","state","initialized","door1_isOpen","door2_isOpen","building_temp","fridge_temp","freezer_temp","lights_areOn","clearInterval","updateFn","setInterval","getUpdate","response","debug","json","data","setState","className","TemperatureDisplay","name","temperature","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wPAEMA,E,4KAuBE,OAA4B,IAArBC,KAAKC,MAAMC,Q,2GAwCZ,IAAD,OACL,OACA,qCACWF,KAAKC,MAAME,WADtB,KACsCH,KAAKI,cAAgB,SAAW,SAChEJ,KAAKI,cAAgB,kBAAC,EAAD,CAAWC,MAAK,qBAAiBL,KAAKC,MAAME,YAAeG,OAAM,eAAWN,KAAKC,MAAME,YAAeI,QAAS,kBAAM,EAAKC,gBAAmB,KACjKR,KAAKI,cAA4J,KAA5I,kBAAC,EAAD,CAAWC,MAAK,oBAAgBL,KAAKC,MAAME,YAAeG,OAAM,eAAWN,KAAKC,MAAME,YAAeI,QAAS,kBAAM,EAAKE,qB,GApEnIC,IAAMC,WA2E1BC,E,4KACa,IAAD,OACVC,MAAM,IAAD,OAAKb,KAAKC,MAAMK,QAAU,CAC/BQ,OAAQ,SACLC,MACH,kBAAMC,QAAQC,IAAR,UAAe,EAAKhB,MAAMK,OAA1B,kBACN,SAACY,GAAD,OAAWF,QAAQC,IAAIC,Q,+BAGjB,IAAD,OACL,OACA,4BAAQX,QAAS,kBAAM,EAAKY,gBAAgBnB,KAAKC,MAAMI,W,GAXvCK,IAAMC,WAgBfZ,ICzFXqB,G,MAAqB,M,IAWnBC,E,kDACJ,WAAYpB,GAAQ,IAAD,8BACjB,cAAMA,IAEDqB,MAAQ,CACXC,aAAa,EACbC,aAAc,KACdC,aAAc,KACdC,cAAe,KACfC,YAAa,KACbC,aAAc,KACdC,aAAc,MAGbT,GACDU,cAAcV,GAIhBA,EAAqB,EAAKW,SAAWC,aAAY,kBAAK,EAAKC,cAAa,KAlBvD,E,wDAoBN,IAAD,OACVpB,MAAM,WACHE,MAAK,SAAAmB,GAEJ,OADAlB,QAAQmB,MAAMD,GACPA,EAASE,UAEjBrB,MAAK,SAAAsB,GACJrB,QAAQmB,MAAME,GACd,EAAKC,SAAS,CACZf,aAAa,EACbC,aAAca,EAAKb,aACnBC,aAAcY,EAAKZ,aACnBC,cAAeW,EAAKX,cACpBC,YAAaU,EAAKV,YAClBC,aAAcS,EAAKT,aACnBC,aAAcQ,EAAKR,oB,qCAMzB,OAAmC,IAA5B7B,KAAKsB,MAAME,e,qCAGlB,OAAmC,IAA5BxB,KAAKsB,MAAMG,e,+BAIlB,OACE,yBAAKc,UAAU,wBACb,oDACA,yBAAKA,UAAU,kBACXvC,KAAKsB,MAAMC,YACT,yBAAKgB,UAAU,YACb,kBAAC,EAAD,CAAapC,WAAY,EAAGD,MAAOF,KAAKwB,iBACxC,kBAAC,EAAD,CAAarB,WAAY,EAAGD,MAAOF,KAAKyB,iBACxC,kBAACe,EAAD,CAAoBC,KAAK,gBAAgBC,YAAa1C,KAAKsB,MAAMI,gBACjE,kBAACc,EAAD,CAAoBC,KAAK,cAAcC,YAAa1C,KAAKsB,MAAMK,cAC/D,kBAACa,EAAD,CAAoBC,KAAK,eAAeC,YAAa1C,KAAKsB,MAAMM,eAChE,wCAAc5B,KAAKsB,MAAMO,aAAe,KAAO,QAGjD,sD,GA/DqBnB,IAAMC,WAwEzC,SAAS6B,EAAmBvC,GAC1B,OACE,6BAAMA,EAAMwC,KAAZ,KAAoBxC,EAAMyC,YAA1B,SAIWC,MAvFf,WAEE,OACE,yBAAKJ,UAAU,OACb,kBAAC,EAAD,QCLNK,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.66f2577d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass DoorControl extends React.Component {\r\n    // constructor(props){\r\n    //     super(props);\r\n\r\n    //     this.state = {\r\n    //     closing: false,\r\n    //     opening: false,\r\n    //     doorStatus: \"\"\r\n    //     };\r\n    // }\r\n\r\n    // componentDidUpdate(prevProps) {\r\n    //     if(this.props.value !== prevProps.value){\r\n    //     this.setState({\r\n    //         closing: false,\r\n    //         opening: false\r\n    //     });\r\n    //     }\r\n\r\n    //     this.door_updateState();\r\n    // }\r\n\r\n    door_isOpen() {\r\n        return this.props.value === true;\r\n    }\r\n\r\n    // door_updateState() {\r\n    //     let status = \"\";\r\n\r\n    //     if(this.state.closing === true) {\r\n    //     status = \"Closing...\";\r\n    //     }\r\n    //     else if(this.state.opening === true) {\r\n    //     status = \"Opening...\";\r\n    //     }\r\n    //     else if (this.door_isOpen()){\r\n    //     status = \"Opened\";\r\n    //     }\r\n    //     else {\r\n    //     status = \"Closed\";\r\n    //     }\r\n\r\n    //     if(this.state.doorStatus !== status){\r\n    //     this.setState({\r\n    //         doorStatus: status\r\n    //     });\r\n    //     }\r\n    // }\r\n\r\n    setClosing(){\r\n        // this.setState({\r\n        // closing: true,\r\n        // opening: false\r\n        // });\r\n    }\r\n\r\n    setOpening(){\r\n        // this.setState({\r\n        // closing: false,\r\n        // opening: true\r\n        // });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div>\r\n            Door { this.props.doorNumber }: { this.door_isOpen() ? \"Opened\" : \"Closed\" }\r\n            { this.door_isOpen() ? <ApiButton label={`Close Door ${ this.props.doorNumber }`} action={`cdoor${ this.props.doorNumber }`} onClick={() => this.setClosing()} /> : null}\r\n            { !this.door_isOpen() ? <ApiButton label={`Open Door ${ this.props.doorNumber }`} action={`odoor${ this.props.doorNumber }`} onClick={() => this.setOpening()} /> : null}\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass ApiButton extends React.Component {\r\n    handleClick() {\r\n        fetch(`/${this.props.action}`, {\r\n        method: 'POST'\r\n        }).then(\r\n        () => console.log(`${this.props.action} : SUCCESS`),\r\n        (error) => console.log(error)\r\n        );\r\n    }\r\n    render() {\r\n        return (\r\n        <button onClick={() => this.handleClick()}>{this.props.label}</button>\r\n        );\r\n    }\r\n}\r\n  \r\nexport default DoorControl;\r\n","import React from 'react';\nimport DoorControl from './components/DoorControl'\nimport './App.css';\n\nvar UPDATE_INTERVAL_ID = null;\n  \nfunction App() {\n  \n  return (\n    <div className=\"App\">\n      <GarageDoorController />\n    </div>\n  );\n}\n\nclass GarageDoorController extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      initialized: false,\n      door1_isOpen: null,\n      door2_isOpen: null,\n      building_temp: null,\n      fridge_temp: null,\n      freezer_temp: null,\n      lights_areOn: null\n    };\n    \n    if(UPDATE_INTERVAL_ID) {\n      clearInterval(UPDATE_INTERVAL_ID);\n    }\n\n    // poll /update every 5 seconds\n    UPDATE_INTERVAL_ID = this.updateFn = setInterval(()=> this.getUpdate(), 5000);\n  }\n  getUpdate() {\n    fetch('/update')\n      .then(response=>{\n        console.debug(response);\n        return response.json();\n      })\n      .then(data => {\n        console.debug(data);\n        this.setState({\n          initialized: true,\n          door1_isOpen: data.door1_isOpen,\n          door2_isOpen: data.door2_isOpen,\n          building_temp: data.building_temp,\n          fridge_temp: data.fridge_temp,\n          freezer_temp: data.freezer_temp,\n          lights_areOn: data.lights_areOn\n        });\n      });\n  }\n\n  door1_isOpen() {\n    return this.state.door1_isOpen === true;\n  }\n  door2_isOpen() {\n    return this.state.door2_isOpen === true;\n  }\n\n  render() {\n    return (\n      <div className=\"GarageDoorController\">\n        <h1>Garage Control Panel</h1>\n        <div className=\"status-section\">\n          { this.state.initialized ? (\n              <div className=\"controls\">\n                <DoorControl doorNumber={1} value={this.door1_isOpen()} />\n                <DoorControl doorNumber={2} value={this.door2_isOpen()} />\n                <TemperatureDisplay name=\"building temp\" temperature={this.state.building_temp} />\n                <TemperatureDisplay name=\"fridge temp\" temperature={this.state.fridge_temp} />\n                <TemperatureDisplay name=\"freezer temp\" temperature={this.state.freezer_temp} />\n                <div>Lights: {this.state.lights_areOn ? \"On\" : \"Off\"}</div>\n              </div>\n            ) : (\n              <div>Getting Data...</div>\n            )\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction TemperatureDisplay(props) {\n  return (\n    <div>{props.name}: {props.temperature}&#176;F</div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}