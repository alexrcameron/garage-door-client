{"version":3,"sources":["App.js","index.js"],"names":["GarageDoorController","props","state","sensors","setInterval","getUpdate","fetch","then","response","console","log","json","data","this","Door1_isOpen","Door2_isOpen","className","door1_isOpen","door2_isOpen","label","action","React","Component","ApiButton","method","error","onClick","handleClick","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kQAaMA,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,MAAQ,CACXC,QAAS,IAIXC,aAAY,kBAAK,EAAKC,cAAa,KARlB,E,wDAUN,IAAD,OACVC,MAAM,WACHC,MAAK,SAAAC,GAEJ,OADAC,QAAQC,IAAIF,GACLA,EAASG,UAEjBJ,MAAK,SAAAK,GACJ,EAAKV,MAAMC,QAAUS,EACrBH,QAAQC,IAAI,EAAKR,MAAMC,c,qCAK3B,OAA2C,IAApCU,KAAKX,MAAMC,QAAQW,e,qCAG1B,OAA2C,IAApCD,KAAKX,MAAMC,QAAQY,e,+BAI1B,OACE,yBAAKC,UAAU,wBACb,kDAEA,wCAAeH,KAAKI,eAAiB,SAAW,UAChD,wCAAeJ,KAAKK,eAAiB,SAAW,UAE/CL,KAAKI,eACF,kBAAC,EAAD,CAAWE,MAAM,eAAeC,OAAO,UACvC,kBAAC,EAAD,CAAWD,MAAM,cAAcC,OAAO,UAEzCP,KAAKI,eACF,kBAAC,EAAD,CAAWE,MAAM,eAAeC,OAAO,WACvC,kBAAC,EAAD,CAAWD,MAAM,cAAcC,OAAO,gB,GA5CfC,IAAMC,WAkDnCC,E,4KACW,IAAD,OACZjB,MAAM,IAAD,OAAKO,KAAKZ,MAAMmB,QAAU,CAC7BI,OAAQ,SACPjB,MACD,kBAAME,QAAQC,IAAR,UAAe,EAAKT,MAAMmB,OAA1B,kBACN,SAACK,GAAD,OAAWhB,QAAQC,IAAIe,Q,+BAGjB,IAAD,OACP,OACE,4BAAQC,QAAS,kBAAM,EAAKC,gBAAgBd,KAAKZ,MAAMkB,W,GAXrCE,IAAMC,WAgBfM,EA3Ef,WAEE,OACE,yBAAKZ,UAAU,OACb,kBAAC,EAAD,QCHNa,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.fa74967f.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\n\n  \nfunction App() {\n  \n  return (\n    <div className=\"App\">\n      <GarageDoorController />\n    </div>\n  );\n}\n\nclass GarageDoorController extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sensors: {}\n    };\n    \n    // poll /update every 10 seconds\n    setInterval(()=> this.getUpdate(), 10000);\n  }\n  getUpdate() {\n    fetch('/update')\n      .then(response=>{\n        console.log(response);\n        return response.json();\n      })\n      .then(data => {\n        this.state.sensors = data;\n        console.log(this.state.sensors);\n      });\n  }\n\n  door1_isOpen() {\n    return this.state.sensors.Door1_isOpen === true;\n  }\n  door2_isOpen() {\n    return this.state.sensors.Door2_isOpen === true;\n  }\n\n  render() {\n    return (\n      <div className=\"GarageDoorController\">\n        <h1>Garage Door Client</h1>\n\n        <div>Door 1: { this.door1_isOpen() ? \"Opened\" : \"Closed\"}</div>\n        <div>Door 2: { this.door2_isOpen() ? \"Opened\" : \"Closed\"}</div>\n\n        {this.door1_isOpen()\n          ? <ApiButton label=\"Close Door 1\" action=\"cdoor\" />\n          : <ApiButton label=\"Open Door 1\" action=\"odoor\" /> }\n\n        {this.door1_isOpen()\n          ? <ApiButton label=\"Close Door 2\" action=\"cdoor2\" />\n          : <ApiButton label=\"Open Door 2\" action=\"odoor2\" />}\n      </div>\n    );\n  }\n}\n\nclass ApiButton extends React.Component {\n  handleClick() {\n    fetch(`/${this.props.action}`, {\n      method: 'POST'\n    }).then(\n      () => console.log(`${this.props.action} : SUCCESS`),\n      (error) => console.log(error)\n    );\n  }\n  render() {\n    return (\n      <button onClick={() => this.handleClick()}>{this.props.label}</button>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}